<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="resources/css파일/3_2_game2_hmj.css" />
  </head>
  <body>
    <div class="container">
      <div class="header">
        <div class="level"><span>Level 2</span></div>
        <div class="w">
          <h1 class="title">아이스크림 쌓기</h1>
          <h4 class="text">아이스크림을 규칙에 맞게 담고 있어요.</h4>
          <h4 class="text">
            규칙을 잘 보고 마지막에 와야 할 아이스크림을 만들어보세요.
          </h4>
        </div>
      </div>
      <div class="content">
        <div class="rules">
          <div class="rule">
            <img class="iceCream iceCream1" src="resources/img/예제1.png" />
            <img class="right" src="resources/img/화살표.png" />
          </div>
          <div class="rule">
            <img class="iceCream iceCream2" src="resources/img/예제2.png" />
            <img class="right" src="resources/img/화살표.png" />
          </div>
          <div class="rule">
            <img class="iceCream iceCream3" src="resources/img/예제3.png" />
            <img class="right" src="resources/img/화살표.png" />
          </div>
          <div class="rule">
            <img class="question" src="resources/img/만들어보기.png" />
          </div>
        </div>
        <div id="answer"><img src="resources/img/와플콘.png" /></div>

        <div class="examples">
          <img
            class="scoop1 scoop"
            src="resources/img/녹차초코아이스크림.png"
          />
          <img
            class="scoop2 scoop"
            src="resources/img/딸기 스프링클 아이스크림.png"
          />
          <img class="scoop3 scoop" src="resources/img/레몬 아이스크림.png" />
          <img class="scoop4 scoop" src="resources/img/바닐라아이스크림.png" />
          <img class="scoop5 scoop" src="resources/img/초코아이스크림.png" />
          <img
            class="scoop6 scoop"
            src="resources/img/피스타치오아이스크림.png"
          />
        </div>
      </div>
    </div>
  </body>
  <script>
    let scoopCount = 0;
    const correctOrder = ["scoop5", "scoop2", "scoop1", "scoop3"];

    function addScoop(event) {
      const scoopClass = event.target.classList[0];
      if (scoopClass !== correctOrder[scoopCount]) {
        alert("다시 생각해보세요!");
        return;
      }

      const scoopImage = event.target.src;
      const stack = document.getElementById("answer");
      const newScoop = document.createElement("img");
      newScoop.src = scoopImage;
      newScoop.className = "stacked-scoop";

      const bottomPosition = 61 + scoopCount * 5;
      newScoop.style.setProperty("--bottom-position", `${bottomPosition}%`);

      setTimeout(() => {
        newScoop.style.bottom = `${bottomPosition}%`;
      }, 1000);

      stack.appendChild(newScoop);
      scoopCount++;
      if (scoopCount === correctOrder.length) {
        setTimeout(() => {
          alert("완성되었습니다!");
        }, 1100);
      }
    }

    document.addEventListener("DOMContentLoaded", () => {
      const scoops = document.querySelectorAll(".scoop");
      scoops.forEach((scoop) => {
        scoop.addEventListener("click", addScoop);
      });
    });
  </script>
</html>
