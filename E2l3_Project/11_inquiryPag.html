<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>1:1 문의하기</title>
    <link rel="stylesheet" href="resources/css파일/11_inquiry.css" />
  </head>
  <body>
    <div class="container">
      <h2>1:1 문의하기</h2>
      <form action="" method="post" enctype="multipart/form-data">
        <div class="content">
          <div class="inquiryType">
            <label for="inquiry-type" class="inquiry"
              >문의유형 <span class="iocn">*</span></label
            >
            <div class="big-category">
              <select name="inquiry-type" id="inquiry-type" required>
                <option value="" class="option">선택 해주세요</option>
                <option value="" class="option">기타</option>
              </select>
            </div>
            <div class="smli-category">
              <select name="inquiry-type" id="smli-inquiry" required>
                <option value="" class="option">선택해주세요</option>
                <option value="" class="option">기타</option>
              </select>
            </div>
          </div>
        </div>

        <div class="inquiryDetails">
          <strong class="writeDetails">
            <label for="text-content" class="detail"
              >문의내용 <span class="iocn">*</span></label
            >
          </strong>
          <div class="text-wirte">
            <div class="inquiry-wirte">
              <textarea
                name="text-content"
                id="text-content"
                maxlength="3050"
                class="write"
                spellcheck="false"
                placeholder=" 신속하고 정확한 안내를 위하여 '문의유형'과 '주문번호'를 선택(또는 입력)해 주세요
        
                              ※ 상담사에게 폭언, 욕설 등을 하지 말아 주세요. 답변을 받지 못하거나 사전안내없이 삭제될 수 있습니다"
              >
              </textarea>
              <span class="text-span">3000자 이내에 적어주세요</span>
            </div>
          </div>
          <div class="inputUpload">
            <div class="upload">
              <label for="file_upload" class="fileUpload" id="file"
                >파일 첨부하기 (0/10)</label
              >
              <input
                type="file"
                id="file_upload"
                class="file-upload"
                multiple
                title="문의에 필요한 파일 첨부"
                onchange="updateFileCount()"
              />
              <div class="file-info" id="fileInfo"></div>
            </div>
          </div>
          <p class="text-p">
            jpg, gif, psd, png, tif, zip, pdf, ms, office, hwp 만 첨부
            가능하고<br />20MB까지 등록가능하며 첨부파일은 답변완료가 되면 즉시
            삭제됩니다
          </p>
          <div class="fileMb">
            <dl class="Mb">
              <dd class="mb-dd" id="dd">0/20MB</dd>
            </dl>
          </div>
        </div>
        <div class="email_enter">
          <strong class="tite_email">
            <label for="emadil-adder" class="email_adder"
              >이메일주소<span class="icon">*</span></label
            >
            <span class="email-error">형식에 맞지않은 이메일주소 입니다</span>
          </strong>
          <div class="emailInput">
            <input
              type="text"
              name="emadil-adder"
              id="emadil-adder"
              class="emailAdder"
              placeholder="예）example@gmail.com"
              maxlength="11"
            />
          </div>
        </div>
        <div class="phoneNumber">
          <strong class="tite_nuber">
            <label for="countryCode" for="phon" class="cell-phone-number"
              >휴대폰 번호 <span class="icon">*</span></label
            >
          </strong>
          <div class="number_fill">
            <div class="nation_number">
              <select id="countryCode" class="country_code">
                <option value="+82 ">+82 한국</option>
                <option value="+1">+1 미국</option>
                <option value="+81">+81 일본</option>
              </select>
            </div>
            <div class="tel-phome">
              <input
                type="tel"
                id="phon"
                name="phome"
                class="phome"
                placeholder="01012345678"
                required
                pattern="^010[0-9]{8}$"
                maxlength="11"
              />
            </div>
            <span class="telError" id="Error">휴대폰 번호를 확인하세요</span>
          </div>
        </div>
        <div class="inquiry-btn">
          <button class="inquiryBtn">문의접수</button>
        </div>
      </form>
    </div>
  </body>
  <script>
    // 파일 리스트 코드
    document.addEventListener("DOMContentLoaded", function () {
      const fileInput = document.getElementById("file_upload");
      const fileInfo = document.getElementById("fileInfo");
      let fileList = [];

      fileInput.addEventListener("change", function () {
        const newFiles = Array.from(fileInput.files);
        fileList = [...fileList, ...newFiles];
        updateFileList();
      });

      function updateFileList() {
        fileInfo.innerHTML = "";

        fileList.forEach((file, index) => {
          const fileItem = document.createElement("div");
          fileItem.className = "file-item";
          fileItem.innerHTML = `
            ${file.name}
            <button class="remove-btn" data-index="${index}">삭제</button>
          `;
          fileInfo.appendChild(fileItem);
        });

        document.querySelectorAll(".remove-btn").forEach((button) => {
          button.addEventListener("click", function () {
            const index = this.getAttribute("data-index");
            removeFile(index);
          });
        });
      }

      function removeFile(index) {
        fileList.splice(index, 1);
        updateFileList();
      }
    });

    // 파일 추가 할때 카운트가 올라가는 코드
    document.addEventListener("DOMContentLoaded", function () {
      const input = document.getElementById("file_upload");
      const fileInfo = document.getElementById("fileInfo");
      let fileCount = 0;
      const maxFiles = 10;

      input.addEventListener("change", function () {
        const files = input.files;
        fileCount = files.length > maxFiles ? maxFiles : files.length;
        updateFileCount(fileCount);
      });
    });
  </script>
</html>
